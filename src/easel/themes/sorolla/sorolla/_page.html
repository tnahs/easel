{% from "_macros.html" import render_content with context %}


<div id="page">

    {% if page.description %}

        <div class="page__description typeset">{{ page.description.body | safe }}</div>

    {% endif %}

    {% set class = "page__contents--gallery"
        if page.is_gallery
        else "page__contents--base"
    %}

    {% set style = "column-count: " ~ page.column_count ~ ";"
        if page.is_gallery
        and page.column_count is not none
        else ""
    %}

    <div class="{{ class }}" style="{{ style }}">

        {% for content in page.contents %}

            {{ render_content(page, content) }}

        {% endfor %}

    </div>

</div>